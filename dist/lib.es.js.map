{"version":3,"file":null,"sources":["../lib/copy.js","../lib/compare.js","../lib/merge.js"],"sourcesContent":["function copy(obj) {\r\n  let clone;\r\n\r\n  // Return literals.\r\n  if (!(obj instanceof Object)) return obj;\r\n\r\n  // Create clone object with proper params.\r\n  const Constructor = obj.constructor;\r\n  switch (Constructor) {\r\n    case Date:\r\n    case RegExp:\r\n      clone = new Constructor(obj);\r\n      break;\r\n    default:\r\n      clone = new Constructor();\r\n  }\r\n\r\n  // Copy each property.\r\n  for (let property in obj) clone[property] = copy(obj[property]);\r\n\r\n  return clone;\r\n}\r\n\r\nexport default copy\r\n","function compare(a, b) {\r\n\r\n  // Check same literal value or same object reference.\r\n  if (a === b) return true;\r\n  if (a === null || b === null) return false;\r\n\r\n  // Check types and short-circit on non-objects.\r\n  const type = typeof(a);\r\n  if (type !== typeof(b)) return false;\r\n  if (type === 'number' && isNaN(a) && isNaN(b)) return true;\r\n  if (type !== 'object') return a === b;\r\n  if (checkInstance(a,b)) return a.toString() === b.toString();\r\n\r\n  // Check object equivalence.\r\n  if (a.isPrototypeOf(b) || b.isPrototypeOf(a)) return false;\r\n  if (a.constructor !== b.constructor) return false;\r\n  if (a.prototype !== b.prototype) return false;\r\n  if (Object.keys(a).length !== Object.keys(b).length) return false;\r\n  for (let property in a) {\r\n    if (!compare(a[property], b[property])) return false;\r\n  }\r\n\r\n  // Must be the same.\r\n  return true;\r\n}\r\n\r\n// Check for objects that allow string comparisons.\r\nfunction checkInstance(a,b) {\r\n  return (a instanceof Date && b instanceof Date) ||\r\n    (a instanceof RegExp && b instanceof RegExp) ||\r\n    (a instanceof String && b instanceof String) ||\r\n    (a instanceof Number && b instanceof Number)\r\n}\r\n\r\nexport default compare;\r\n","import compare from './compare'\r\nimport copy from './copy'\r\n\r\nconst constructors = [Date, RegExp, String, Number];\r\n\r\nfunction merge(a, b) {\r\n  if (!(a instanceof Object) || !(b instanceof Object))\r\n    throw new TypeError('You can only merge objects.');\r\n\r\n  for (let property in b) {\r\n    const oldProp = a[property];\r\n    const newProp = b[property];\r\n    if (compare(oldProp, newProp)) continue;\r\n    if (constructors.indexOf(newProp.constructor) !== -1) {\r\n      a[property] = newProp;\r\n    } else if (newProp instanceof Object && oldProp instanceof Object) {\r\n      merge(oldProp, newProp)\r\n    } else a[property] = newProp;\r\n  }\r\n}\r\n\r\nexport default merge;\r\n"],"names":["copy","obj","clone","Object","Constructor","constructor","Date","RegExp","property","compare","a","b","type","isNaN","checkInstance","toString","isPrototypeOf","prototype","keys","length","String","Number","constructors","merge","TypeError","oldProp","newProp","indexOf"],"mappings":"AAAA,SAASA,IAAT,CAAcC,GAAd,EAAmB;MACbC,cAAJ;;;MAGI,EAAED,eAAeE,MAAjB,CAAJ,EAA8B,OAAOF,GAAP;;;MAGxBG,cAAcH,IAAII,WAAxB;UACQD,WAAR;SACOE,IAAL;SACKC,MAAL;cACU,IAAIH,WAAJ,CAAgBH,GAAhB,CAAR;;;cAGQ,IAAIG,WAAJ,EAAR;;;;OAIC,IAAII,QAAT,IAAqBP,GAArB;UAAgCO,QAAN,IAAkBR,KAAKC,IAAIO,QAAJ,CAAL,CAAlB;GAE1B,OAAON,KAAP;CAGF;;;;ACvBA,SAASO,OAAT,CAAiBC,CAAjB,EAAoBC,CAApB,EAAuB;;;MAGjBD,MAAMC,CAAV,EAAa,OAAO,IAAP;MACTD,MAAM,IAAN,IAAcC,MAAM,IAAxB,EAA8B,OAAO,KAAP;;;MAGxBC,cAAcF,CAAd,yCAAcA,CAAd,CAAN;MACIE,iBAAgBD,CAAhB,yCAAgBA,CAAhB,EAAJ,EAAwB,OAAO,KAAP;MACpBC,SAAS,QAAT,IAAqBC,MAAMH,CAAN,CAArB,IAAiCG,MAAMF,CAAN,CAArC,EAA+C,OAAO,IAAP;MAC3CC,SAAS,QAAb,EAAuB,OAAOF,MAAMC,CAAb;MACnBG,cAAcJ,CAAd,EAAgBC,CAAhB,CAAJ,EAAwB,OAAOD,EAAEK,QAAF,OAAiBJ,EAAEI,QAAF,EAAxB;;;MAGpBL,EAAEM,aAAF,CAAgBL,CAAhB,KAAsBA,EAAEK,aAAF,CAAgBN,CAAhB,CAA1B,EAA8C,OAAO,KAAP;MAC1CA,EAAEL,WAAF,KAAkBM,EAAEN,WAAxB,EAAqC,OAAO,KAAP;MACjCK,EAAEO,SAAF,KAAgBN,EAAEM,SAAtB,EAAiC,OAAO,KAAP;MAC7Bd,OAAOe,IAAP,CAAYR,CAAZ,EAAeS,MAAf,KAA0BhB,OAAOe,IAAP,CAAYP,CAAZ,EAAeQ,MAA7C,EAAqD,OAAO,KAAP;OAChD,IAAIX,QAAT,IAAqBE,CAArB,EAAwB;QAClB,CAACD,QAAQC,EAAEF,QAAF,CAAR,EAAqBG,EAAEH,QAAF,CAArB,CAAL,EAAwC,OAAO,KAAP;;;;SAInC,IAAP;;;;AAIF,SAASM,aAAT,CAAuBJ,CAAvB,EAAyBC,CAAzB,EAA4B;SAClBD,aAAaJ,IAAb,IAAqBK,aAAaL,IAAnC,IACJI,aAAaH,MAAb,IAAuBI,aAAaJ,MADhC,IAEJG,aAAaU,MAAb,IAAuBT,aAAaS,MAFhC,IAGJV,aAAaW,MAAb,IAAuBV,aAAaU,MAHvC;CAMF;;AC/BA,IAAMC,eAAe,CAAChB,IAAD,EAAOC,MAAP,EAAea,MAAf,EAAuBC,MAAvB,CAArB;;AAEA,SAASE,KAAT,CAAeb,CAAf,EAAkBC,CAAlB,EAAqB;MACf,EAAED,aAAaP,MAAf,KAA0B,EAAEQ,aAAaR,MAAf,CAA9B,EACE,MAAM,IAAIqB,SAAJ,CAAc,6BAAd,CAAN;;OAEG,IAAIhB,QAAT,IAAqBG,CAArB,EAAwB;QAChBc,UAAUf,EAAEF,QAAF,CAAhB;QACMkB,UAAUf,EAAEH,QAAF,CAAhB;QACIC,QAAQgB,OAAR,EAAiBC,OAAjB,CAAJ,EAA+B;QAC3BJ,aAAaK,OAAb,CAAqBD,QAAQrB,WAA7B,MAA8C,CAAC,CAAnD,EAAsD;QAClDG,QAAF,IAAckB,OAAd;KADF,MAEO,IAAIA,mBAAmBvB,MAAnB,IAA6BsB,mBAAmBtB,MAApD,EAA4D;YAC3DsB,OAAN,EAAeC,OAAf;KADK,MAEAhB,EAAEF,QAAF,IAAckB,OAAd;;CAIX;;"}