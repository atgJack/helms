{"version":3,"file":null,"sources":["../lib/copy.js","../lib/compare.js","../lib/merge.js"],"sourcesContent":["function copy(obj) {\n  let clone;\n\n  // Return literals.\n  if (!(obj instanceof Object)) return obj;\n\n  // Create clone object with proper params.\n  const Constructor = obj.constructor;\n  switch (Constructor) {\n    case Date:\n    case RegExp:\n      clone = new Constructor(obj);\n      break;\n    default:\n      clone = new Constructor();\n  }\n\n  // Copy each property.\n  for (const property in obj) {\n    if (Object.hasOwnProperty.call(obj, property)) {\n      clone[property] = copy(obj[property]);\n    }\n  }\n\n  return clone;\n}\n\nexport default copy;\n","// Check for objects that allow string comparisons.\nfunction checkInstance(a, b) {\n  return (a instanceof Date && b instanceof Date) ||\n    (a instanceof RegExp && b instanceof RegExp) ||\n    (a instanceof String && b instanceof String) ||\n    (a instanceof Number && b instanceof Number);\n}\n\nfunction isPrototype(a, b) {\n  return Object.isPrototypeOf.call(a, b) || Object.isPrototypeOf.call(b, a);\n}\n\nfunction compare(a, b) {\n\n  // Check same literal value or same object reference.\n  if (a === b) return true;\n  if (a === null || b === null) return false;\n\n  // Check types and short-circit on non-objects.\n  const type = typeof(a);\n  if (type !== typeof(b)) return false;\n  if (type === 'number' && isNaN(a) && isNaN(b)) return true;\n  if (type !== 'object') return a === b;\n  if (checkInstance(a, b)) return a.toString() === b.toString();\n\n  // Check object equivalence.\n  if (isPrototype(a, b)) return false;\n  if (a.constructor !== b.constructor) return false;\n  if (a.prototype !== b.prototype) return false;\n  if (Object.keys(a).length !== Object.keys(b).length) return false;\n  for (const property in a) {\n    if (!compare(a[property], b[property])) return false;\n  }\n\n  // Must be the same.\n  return true;\n}\n\nexport default compare;\n","import compare from './compare';\n\nconst constructors = [Date, RegExp, String, Number];\nfunction merge(a, b) {\n  if (!(a instanceof Object) || !(b instanceof Object)) {\n    throw new TypeError('You can only merge objects.');\n  }\n  for (const property in b) {\n    if (Object.hasOwnProperty.call(b, property)) {\n      const oldProp = a[property];\n      const newProp = b[property];\n      if (!compare(oldProp, newProp)) {\n        if (newProp === undefined) {\n          delete a[property];\n        } else if (newProp === null) {\n          a[property] = null;\n        } else if (constructors.indexOf(newProp.constructor) !== -1) {\n          a[property] = newProp;\n        } else if (newProp instanceof Object && oldProp instanceof Object) {\n          merge(oldProp, newProp);\n        } else {\n          a[property] = newProp;\n        }\n      }\n    }\n  }\n}\n\nexport default merge;\n"],"names":["copy","obj","clone","Object","Constructor","constructor","Date","RegExp","property","hasOwnProperty","call","checkInstance","a","b","String","Number","isPrototype","isPrototypeOf","compare","type","isNaN","toString","prototype","keys","length","constructors","merge","TypeError","oldProp","newProp","undefined","indexOf"],"mappings":"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"}